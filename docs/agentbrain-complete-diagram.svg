<svg viewBox="0 0 1400 1000" xmlns="http://www.w3.org/2000/svg">
  <!-- Background -->
  <rect width="1400" height="1000" fill="#f5f5f5"/>
  
  <!-- Title -->
  <text x="700" y="30" font-family="Arial, sans-serif" font-size="24" font-weight="bold" text-anchor="middle" fill="#333">
    Agent Brain: Complete Knowledge Flow &amp; Learning Cycle
  </text>
  
  <!-- External Knowledge Sources (Top) -->
  <g id="external-sources">
    <!-- Organization -->
    <rect x="100" y="70" width="200" height="100" rx="10" fill="#e8eaf6" stroke="#3f51b5" stroke-width="2"/>
    <text x="200" y="95" font-family="Arial" font-size="14" font-weight="bold" text-anchor="middle" fill="#3f51b5">
      ğŸ¢ Organization
    </text>
    <text x="200" y="115" font-family="Arial" font-size="11" text-anchor="middle">Mandates &amp; Standards</text>
    <text x="200" y="130" font-family="Arial" font-size="10" text-anchor="middle" fill="#666">API Design v2.1</text>
    <text x="200" y="145" font-family="Arial" font-size="10" text-anchor="middle" fill="#666">Security Requirements</text>
    <text x="200" y="160" font-family="Arial" font-size="10" text-anchor="middle" fill="#666">ğŸ”’ Mandatory</text>
    
    <!-- Senior Developers -->
    <rect x="350" y="70" width="200" height="100" rx="10" fill="#ede7f6" stroke="#673ab7" stroke-width="2"/>
    <text x="450" y="95" font-family="Arial" font-size="14" font-weight="bold" text-anchor="middle" fill="#673ab7">
      ğŸ‘©â€ğŸ’» Senior Developers
    </text>
    <text x="450" y="115" font-family="Arial" font-size="11" text-anchor="middle">Domain Expertise</text>
    <text x="450" y="130" font-family="Arial" font-size="10" text-anchor="middle" fill="#666">Migration Guides</text>
    <text x="450" y="145" font-family="Arial" font-size="10" text-anchor="middle" fill="#666">Best Practices</text>
    <text x="450" y="160" font-family="Arial" font-size="10" text-anchor="middle" fill="#666">â­ Recommended</text>
    
    <!-- Community -->
    <rect x="600" y="70" width="200" height="100" rx="10" fill="#e0f2f1" stroke="#009688" stroke-width="2"/>
    <text x="700" y="95" font-family="Arial" font-size="14" font-weight="bold" text-anchor="middle" fill="#009688">
      ğŸŒ Community
    </text>
    <text x="700" y="115" font-family="Arial" font-size="11" text-anchor="middle">Shared Patterns</text>
    <text x="700" y="130" font-family="Arial" font-size="10" text-anchor="middle" fill="#666">React Patterns</text>
    <text x="700" y="145" font-family="Arial" font-size="10" text-anchor="middle" fill="#666">Testing Strategies</text>
    <text x="700" y="160" font-family="Arial" font-size="10" text-anchor="middle" fill="#666">â˜‘ï¸ Optional</text>
    
    <!-- Marketplace -->
    <rect x="850" y="70" width="200" height="100" rx="10" fill="#fef3e7" stroke="#ff6f00" stroke-width="2"/>
    <text x="950" y="95" font-family="Arial" font-size="14" font-weight="bold" text-anchor="middle" fill="#ff6f00">
      ğŸª Marketplace
    </text>
    <text x="950" y="115" font-family="Arial" font-size="11" text-anchor="middle">Premium Packages</text>
    <text x="950" y="130" font-family="Arial" font-size="10" text-anchor="middle" fill="#666">Industry Specific</text>
    <text x="950" y="145" font-family="Arial" font-size="10" text-anchor="middle" fill="#666">Certified Expertise</text>
    <text x="950" y="160" font-family="Arial" font-size="10" text-anchor="middle" fill="#666">ğŸ’ Purchasable</text>
    
    <!-- Multi-vendor box -->
    <rect x="1100" y="70" width="200" height="100" rx="10" fill="#fce4ec" stroke="#c2185b" stroke-width="2"/>
    <text x="1200" y="95" font-family="Arial" font-size="14" font-weight="bold" text-anchor="middle" fill="#c2185b">
      ğŸ¤ Vendor Teams
    </text>
    <text x="1200" y="115" font-family="Arial" font-size="11" text-anchor="middle">Synchronized Standards</text>
    <text x="1200" y="130" font-family="Arial" font-size="10" text-anchor="middle" fill="#666">Team A, B, C</text>
    <text x="1200" y="145" font-family="Arial" font-size="10" text-anchor="middle" fill="#666">Shared Compliance</text>
    <text x="1200" y="160" font-family="Arial" font-size="10" text-anchor="middle" fill="#666">ğŸ“Š Coordinated</text>
  </g>
  
  <!-- Package Loading Zone -->
  <g id="package-loading">
    <rect x="350" y="200" width="700" height="80" rx="10" fill="#fff8e1" stroke="#ffa000" stroke-width="2" stroke-dasharray="5,3"/>
    <text x="700" y="225" font-family="Arial" font-size="14" font-weight="bold" text-anchor="middle" fill="#ffa000">
      ğŸ“¦ Expertise Package Loading &amp; Hierarchy
    </text>
    <text x="700" y="245" font-family="Arial" font-size="11" text-anchor="middle">Priority: ğŸ”’ Mandatory &gt; â­ Recommended &gt; â˜‘ï¸ Optional</text>
    <text x="700" y="265" font-family="Arial" font-size="10" text-anchor="middle" fill="#666">Conflicts resolved by hierarchy â€¢ Version controlled â€¢ Signed &amp; validated</text>
  </g>
  
  <!-- Your Development (Left) and AI Coding Agent (Right) at same level -->
  <g id="main-actors">
    <!-- Your Development -->
    <rect x="50" y="320" width="280" height="180" rx="10" fill="#e3f2fd" stroke="#1976d2" stroke-width="2"/>
    <text x="190" y="345" font-family="Arial" font-size="16" font-weight="bold" text-anchor="middle" fill="#1976d2">
      Your Development
    </text>
    
    <rect x="70" y="365" width="115" height="40" rx="5" fill="#fff" stroke="#1976d2"/>
    <text x="127" y="385" font-family="Arial" font-size="11" text-anchor="middle">ğŸ’» Code</text>
    <text x="127" y="400" font-family="Arial" font-size="9" text-anchor="middle" fill="#666">Personal style</text>
    
    <rect x="195" y="365" width="115" height="40" rx="5" fill="#fff" stroke="#1976d2"/>
    <text x="252" y="385" font-family="Arial" font-size="11" text-anchor="middle">ğŸ› Debug</text>
    <text x="252" y="400" font-family="Arial" font-size="9" text-anchor="middle" fill="#666">Learn from errors</text>
    
    <rect x="70" y="415" width="115" height="40" rx="5" fill="#fff" stroke="#1976d2"/>
    <text x="127" y="435" font-family="Arial" font-size="11" text-anchor="middle">ğŸ”„ Refactor</text>
    <text x="127" y="450" font-family="Arial" font-size="9" text-anchor="middle" fill="#666">Improve patterns</text>
    
    <rect x="195" y="415" width="115" height="40" rx="5" fill="#fff" stroke="#1976d2"/>
    <text x="252" y="435" font-family="Arial" font-size="11" text-anchor="middle">ğŸ“ Sessions</text>
    <text x="252" y="450" font-family="Arial" font-size="9" text-anchor="middle" fill="#666">Track progress</text>
    
    <text x="190" y="475" font-family="Arial" font-size="10" text-anchor="middle" fill="#666">Git History â€¢ Commits â€¢ Evolution</text>
    
    <!-- AI Coding Agent -->
    <rect x="1070" y="320" width="280" height="180" rx="10" fill="#f3e5f5" stroke="#7b1fa2" stroke-width="2"/>
    <text x="1210" y="345" font-family="Arial" font-size="16" font-weight="bold" text-anchor="middle" fill="#7b1fa2">
      AI Coding Agent
    </text>
    
    <rect x="1090" y="365" width="240" height="30" rx="5" fill="#fff" stroke="#7b1fa2"/>
    <text x="1210" y="380" font-family="Arial" font-size="11" text-anchor="middle">Receives enhanced prompts</text>
    <text x="1210" y="390" font-family="Arial" font-size="9" text-anchor="middle" fill="#666">Context + Rules + Patterns</text>
    
    <rect x="1090" y="405" width="240" height="30" rx="5" fill="#fff" stroke="#7b1fa2"/>
    <text x="1210" y="420" font-family="Arial" font-size="11" text-anchor="middle">ğŸ”’ MUST follow org rules</text>
    <text x="1210" y="430" font-family="Arial" font-size="9" text-anchor="middle" fill="#666">Non-negotiable mandates</text>
    
    <rect x="1090" y="445" width="240" height="30" rx="5" fill="#fff" stroke="#7b1fa2"/>
    <text x="1210" y="460" font-family="Arial" font-size="11" text-anchor="middle">â­ SHOULD use expert patterns</text>
    <text x="1210" y="470" font-family="Arial" font-size="9" text-anchor="middle" fill="#666">Strongly recommended</text>
  </g>
  
  <!-- Retroactive Analysis (Left) and Prompt Enhancement (Right) below main actors -->
  <g id="processing">
    <!-- Retroactive Analysis -->
    <rect x="50" y="520" width="280" height="140" rx="10" fill="#e8f5e9" stroke="#388e3c" stroke-width="2"/>
    <text x="190" y="545" font-family="Arial" font-size="14" font-weight="bold" text-anchor="middle" fill="#388e3c">
      Retroactive Analysis
    </text>
    <text x="190" y="565" font-family="Arial" font-size="10" text-anchor="middle">ğŸ” Discovers your patterns</text>
    <text x="190" y="580" font-family="Arial" font-size="10" text-anchor="middle">ğŸ’­ "I noticed you..."</text>
    <text x="190" y="595" font-family="Arial" font-size="10" text-anchor="middle">ğŸ“š Creates learnings</text>
    <text x="190" y="610" font-family="Arial" font-size="10" text-anchor="middle">ğŸ¯ No judgment</text>
    
    <rect x="70" y="625" width="240" height="25" rx="5" fill="#c8e6c9" stroke="#388e3c"/>
    <text x="190" y="641" font-family="Arial" font-size="10" text-anchor="middle">ğŸ“¤ Share discoveries with team</text>
    
    <!-- Prompt Enhancement -->
    <rect x="1070" y="520" width="280" height="140" rx="10" fill="#fce4ec" stroke="#c2185b" stroke-width="2"/>
    <text x="1210" y="545" font-family="Arial" font-size="14" font-weight="bold" text-anchor="middle" fill="#c2185b">
      Prompt Enhancement
    </text>
    <text x="1210" y="565" font-family="Arial" font-size="10" text-anchor="middle">ğŸ“¦ Applies all packages</text>
    <text x="1210" y="580" font-family="Arial" font-size="10" text-anchor="middle">ğŸ”’ Enforces mandatory</text>
    <text x="1210" y="595" font-family="Arial" font-size="10" text-anchor="middle">â­ Includes recommended</text>
    <text x="1210" y="610" font-family="Arial" font-size="10" text-anchor="middle">ğŸ’¡ Adds your learnings</text>
    <text x="1210" y="625" font-family="Arial" font-size="10" text-anchor="middle">ğŸ¯ Stage 1-8 enhancement</text>
    <text x="1210" y="640" font-family="Arial" font-size="10" text-anchor="middle">ğŸ“‹ Planning templates</text>
  </g>
  
  <!-- Voice boxes below their respective stacks -->
  <g id="voices">
    <!-- Voice to Human -->
    <rect x="50" y="680" width="280" height="70" rx="8" fill="#e1f5fe" stroke="#0288d1" stroke-width="2"/>
    <text x="190" y="700" font-family="Arial" font-size="12" font-weight="bold" text-anchor="middle" fill="#0288d1">
      Voice to Human
    </text>
    <text x="190" y="715" font-family="Arial" font-size="9" text-anchor="middle">ğŸ’¬ Gentle guidance</text>
    <text x="190" y="728" font-family="Arial" font-size="9" text-anchor="middle">ğŸ¤” Curious observations</text>
    <text x="190" y="741" font-family="Arial" font-size="9" text-anchor="middle">ğŸŒŸ Encouragement &amp; support</text>
    
    <!-- Voice to AI -->
    <rect x="1070" y="680" width="280" height="70" rx="8" fill="#f3e5f5" stroke="#7b1fa2" stroke-width="2"/>
    <text x="1210" y="700" font-family="Arial" font-size="12" font-weight="bold" text-anchor="middle" fill="#7b1fa2">
      Voice to AI
    </text>
    <text x="1210" y="715" font-family="Arial" font-size="9" text-anchor="middle">âš¡ MUST follow rules</text>
    <text x="1210" y="728" font-family="Arial" font-size="9" text-anchor="middle">ğŸ¯ Clear directives</text>
    <text x="1210" y="741" font-family="Arial" font-size="9" text-anchor="middle">â›” Prevent known errors</text>
  </g>
  
  <!-- Central Knowledge System -->
  <g id="knowledge-system">
    <circle cx="700" cy="480" r="130" fill="#fff8e1" stroke="#f57c00" stroke-width="3"/>
    <text x="700" y="405" font-family="Arial" font-size="18" font-weight="bold" text-anchor="middle" fill="#f57c00">
      Knowledge System
    </text>
    
    <!-- Knowledge hierarchy layers -->
    <rect x="630" y="430" width="140" height="25" rx="5" fill="#ffccbc" stroke="#ff5722"/>
    <text x="700" y="447" font-family="Arial" font-size="10" text-anchor="middle">ğŸ”’ Organizational Rules</text>
    
    <rect x="630" y="460" width="140" height="25" rx="5" fill="#ffe0b2" stroke="#ff9800"/>
    <text x="700" y="477" font-family="Arial" font-size="10" text-anchor="middle">â­ Expert Guidance</text>
    
    <rect x="630" y="490" width="140" height="25" rx="5" fill="#fff9c4" stroke="#ffc107"/>
    <text x="700" y="507" font-family="Arial" font-size="10" text-anchor="middle">ğŸ‘¥ Team Patterns</text>
    
    <rect x="630" y="520" width="140" height="25" rx="5" fill="#f0f4c3" stroke="#827717"/>
    <text x="700" y="537" font-family="Arial" font-size="10" text-anchor="middle">ğŸ’¡ Personal Learnings</text>
    
    <rect x="630" y="550" width="140" height="25" rx="5" fill="#e8f5e9" stroke="#4caf50"/>
    <text x="700" y="567" font-family="Arial" font-size="10" text-anchor="middle">ğŸ›¤ï¸ Golden Paths</text>
  </g>
  
  <!-- Knowledge Sharing Zone -->
  <g id="sharing">
    <rect x="400" y="630" width="600" height="60" rx="10" fill="#e8eaf6" stroke="#5e35b1" stroke-width="2" stroke-dasharray="5,3"/>
    <text x="700" y="650" font-family="Arial" font-size="12" font-weight="bold" text-anchor="middle" fill="#5e35b1">
      ğŸ”„ Knowledge Sharing &amp; Distribution
    </text>
    <text x="550" y="670" font-family="Arial" font-size="10" text-anchor="middle">ğŸ“¤ Export patterns</text>
    <text x="700" y="670" font-family="Arial" font-size="10" text-anchor="middle">ğŸ“¦ Create packages</text>
    <text x="850" y="670" font-family="Arial" font-size="10" text-anchor="middle">ğŸª Publish to marketplace</text>
  </g>
  
  <!-- Timeline (Bottom) -->
  <g id="timeline">
    <rect x="400" y="780" width="600" height="120" rx="10" fill="#fff3e0" stroke="#ef6c00" stroke-width="2"/>
    <text x="700" y="805" font-family="Arial" font-size="14" font-weight="bold" text-anchor="middle" fill="#ef6c00">
      Timeline Visualization
    </text>
    
    <line x1="450" y1="840" x2="950" y2="840" stroke="#ef6c00" stroke-width="2"/>
    
    <circle cx="500" cy="840" r="6" fill="#3f51b5"/>
    <text x="500" y="860" font-family="Arial" font-size="9" text-anchor="middle">Package</text>
    <text x="500" y="870" font-family="Arial" font-size="8" text-anchor="middle" fill="#666">loaded</text>
    
    <circle cx="600" cy="840" r="6" fill="#4caf50"/>
    <text x="600" y="860" font-family="Arial" font-size="9" text-anchor="middle">Pattern</text>
    <text x="600" y="870" font-family="Arial" font-size="8" text-anchor="middle" fill="#666">discovered</text>
    
    <circle cx="700" cy="840" r="6" fill="#ff9800"/>
    <text x="700" y="860" font-family="Arial" font-size="9" text-anchor="middle">Learning</text>
    <text x="700" y="870" font-family="Arial" font-size="8" text-anchor="middle" fill="#666">created</text>
    
    <circle cx="800" cy="840" r="6" fill="#009688"/>
    <text x="800" y="860" font-family="Arial" font-size="9" text-anchor="middle">Shared</text>
    <text x="800" y="870" font-family="Arial" font-size="8" text-anchor="middle" fill="#666">to team</text>
    
    <circle cx="900" cy="840" r="6" fill="#9c27b0"/>
    <text x="900" y="860" font-family="Arial" font-size="9" text-anchor="middle">Insight</text>
    <text x="900" y="870" font-family="Arial" font-size="8" text-anchor="middle" fill="#666">applied</text>
  </g>
  
  <!-- Flow Arrows -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#666"/>
    </marker>
    <marker id="arrowhead-blue" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#1976d2"/>
    </marker>
    <marker id="arrowhead-green" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#4caf50"/>
    </marker>
  </defs>
  
  <!-- External to Package Loading -->
  <path d="M 200 170 L 400 200" stroke="#3f51b5" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M 450 170 L 500 200" stroke="#673ab7" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M 700 170 L 700 200" stroke="#009688" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M 950 170 L 900 200" stroke="#ff6f00" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M 1200 170 L 1000 200" stroke="#c2185b" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  
  <!-- Package Loading to Knowledge -->
  <path d="M 700 280 L 700 350" stroke="#ffa000" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>
  
  <!-- Developer to Retro -->
  <path d="M 190 500 L 190 520" stroke="#1976d2" stroke-width="2" fill="none" marker-end="url(#arrowhead-blue)"/>
  
  <!-- Retro to Knowledge -->
  <path d="M 330 590 L 570 480" stroke="#388e3c" stroke-width="2" fill="none" marker-end="url(#arrowhead-green)"/>
  <text x="400" y="530" font-family="Arial" font-size="10" fill="#388e3c">discovers</text>
  
  <!-- Knowledge to Enhancement -->
  <path d="M 830 480 L 1070 590" stroke="#f57c00" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <text x="950" y="530" font-family="Arial" font-size="10" fill="#666">enhances</text>
  
  <!-- Enhancement to AI -->
  <path d="M 1210 520 L 1210 500" stroke="#c2185b" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  
  <!-- AI to Developer -->
  <path d="M 1070 410 Q 700 250 330 410" stroke="#7b1fa2" stroke-width="2" stroke-dasharray="5,5" fill="none" marker-end="url(#arrowhead)"/>
  <text x="750" y="330" font-family="Arial" font-size="10" fill="#7b1fa2">generates code</text>
  
  <!-- Knowledge to Sharing -->
  <path d="M 700 570 L 700 630" stroke="#5e35b1" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  
  <!-- The Complete Loop -->
  <ellipse cx="700" cy="470" rx="650" ry="350" fill="none" stroke="#4caf50" stroke-width="3" stroke-dasharray="10,5" opacity="0.2"/>
  <text x="700" y="960" font-family="Arial" font-size="16" font-weight="bold" text-anchor="middle" fill="#4caf50">
    Complete Knowledge Ecosystem: External Expertise + Personal Discovery + Community Sharing
  </text>
</svg>